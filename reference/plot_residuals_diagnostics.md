# Plot residuals diagnostics

Plots normality and autocorrelation tests of model residuals.

## Usage

``` r
plot_residuals_diagnostics(
  model,
  point.color = viridis::viridis(100, option = "F"),
  line.color = "gray10",
  fill.color = viridis::viridis(4, option = "F", alpha = 0.95)[2],
  option = 1,
  ncol = 1,
  verbose = TRUE
)
```

## Arguments

- model:

  A model produced by
  [`rf()`](https://blasbenito.github.io/spatialRF/reference/rf.md),
  [`rf_repeat()`](https://blasbenito.github.io/spatialRF/reference/rf_repeat.md),
  or
  [`rf_spatial()`](https://blasbenito.github.io/spatialRF/reference/rf_spatial.md).

- point.color:

  Colors of the plotted points. Can be a single color name (e.g.
  "red4"), a character vector with hexadecimal codes (e.g. "#440154FF"
  "#21908CFF" "#FDE725FF"), or function generating a palette (e.g.
  `viridis::viridis(100)`). Default:
  `viridis::viridis(100, option = "F")`

- line.color:

  Character string, color of the line produced by
  [`ggplot2::geom_smooth()`](https://ggplot2.tidyverse.org/reference/geom_smooth.html).
  Default: `"gray30"`

- fill.color:

  Character string, fill color of the bars produced by
  [`ggplot2::geom_histogram()`](https://ggplot2.tidyverse.org/reference/geom_histogram.html).
  Default: `viridis::viridis(4, option = "F", alpha = 0.95 )[2]`

- option:

  (argument of
  [`plot_moran()`](https://blasbenito.github.io/spatialRF/reference/plot_moran.md))
  Integer, type of plot. If `1` (default) a line plot with Moran's I and
  p-values across distance thresholds is returned. If `2`, scatterplots
  of residuals versus lagged residuals per distance threshold and their
  corresponding slopes are returned. In models fitted with
  [`rf_repeat()`](https://blasbenito.github.io/spatialRF/reference/rf_repeat.md),
  the residuals and lags of the residuals are computed from the median
  residuals across repetitions. Option `2` is disabled if `x` is a data
  frame generated by
  [`moran()`](https://blasbenito.github.io/spatialRF/reference/moran.md).

- ncol:

  (argument of
  [`plot_moran()`](https://blasbenito.github.io/spatialRF/reference/plot_moran.md))
  Number of columns of the Moran's I plot if `option = 2`.

- verbose:

  Logical, if `TRUE`, the resulting plot is printed, Default: `TRUE`

## Value

A patchwork object.

## See also

Other visualization:
[`plot_evaluation()`](https://blasbenito.github.io/spatialRF/reference/plot_evaluation.md),
[`plot_importance()`](https://blasbenito.github.io/spatialRF/reference/plot_importance.md),
[`plot_moran()`](https://blasbenito.github.io/spatialRF/reference/plot_moran.md),
[`plot_optimization()`](https://blasbenito.github.io/spatialRF/reference/plot_optimization.md),
[`plot_response_curves()`](https://blasbenito.github.io/spatialRF/reference/plot_response_curves.md),
[`plot_response_surface()`](https://blasbenito.github.io/spatialRF/reference/plot_response_surface.md),
[`plot_training_df()`](https://blasbenito.github.io/spatialRF/reference/plot_training_df.md),
[`plot_training_df_moran()`](https://blasbenito.github.io/spatialRF/reference/plot_training_df_moran.md),
[`plot_tuning()`](https://blasbenito.github.io/spatialRF/reference/plot_tuning.md)

## Examples

``` r
data(plants_rf)

plot_residuals_diagnostics(plants_rf)


```
