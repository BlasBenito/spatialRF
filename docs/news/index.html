<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • spatialRF</title><script src="../deps/jquery-3.6.1/jquery-3.6.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><link rel="stylesheet" href="extra.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">spatialRF</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/non_spatial_models.html">Non-Spatial Random Forest Models</a></li>
    <li><a class="dropdown-item" href="../articles/spatial_models.html">Spatial Random Forest Models</a></li>
    <li><a class="dropdown-item" href="../articles/download_history.html">Download history</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Development</h6></li>
    <li><a class="dropdown-item" href="../articles/development_roadmap.html">Development Roadmap</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BlasBenito/spatialRF/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/BlasBenito/spatialRF/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.5" id="version-115">Version 1.1.5<a class="anchor" aria-label="anchor" href="#version-115"></a></h2><p class="text-muted">CRAN release: 2025-12-19</p>
<ul><li><p>Fixed Windows-specific error in <code><a href="../reference/get_response_curves.html">get_response_curves()</a></code>, <code><a href="../reference/plot_response_curves.html">plot_response_curves()</a></code>, <code><a href="../reference/rf_evaluate.html">rf_evaluate()</a></code>, and <code><a href="../reference/rf.html">rf()</a></code> where <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method dispatch failed to find <code>predict.ranger()</code>. Added <code>@importFrom ranger ranger</code> to ensure ranger’s namespace is loaded and S3 methods are properly registered.</p></li>
<li><p>Code quality improvements: fixed 129 linting issues identified by jarl linter, including inefficient vector logic operators in if statements (<code>|</code> → <code>||</code>, <code>&amp;</code> → <code>&amp;&amp;</code>), redundant equality comparisons (<code>== TRUE</code> → direct boolean), and corrected two bugs in <code><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit()</a></code> calls that weren’t properly restoring user options.</p></li>
<li><p>Fixed error <code>Error in validate_prop(value, prop, check_fun, check_values, reset_na) : check_fun(value) is not TRUE</code> generated by <code>huxtable::set_all_borders(TRUE)</code>.</p></li>
<li><p>Fixed warning “Using <code>size</code> aesthetic for lines was deprecated in ggplot2 3.4.0. ℹ Please use <code>linewidth</code> instead.” produced by outdated calls to <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line()</a></code>.</p></li>
<li><p>Fixed issue with deprecated argument <code>draw_quantiles</code> of <code><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html" class="external-link">geom_violin()</a></code>.</p></li>
<li><p>Replaced deprecated calls to <code><a href="https://ggplot2.tidyverse.org/reference/aes_.html" class="external-link">ggplot2::aes_string()</a></code> with <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">ggplot2::aes()</a></code> plus <code>.data[[whatever]]</code>.</p></li>
<li><p>Fixed parallelization issues with zombi processess across functions.</p></li>
<li><p>Added internal helper function <code><a href="../reference/setup_parallel_execution.html">setup_parallel_execution()</a></code> to centralize and improve parallel backend management across all functions. Now properly detects and respects user-configured backends (via <code>future</code>, <code>doParallel</code>, etc.) while maintaining support for external and internal cluster objects.</p></li>
<li><p>Refactored cluster setup code across all parallelized functions (<code><a href="../reference/rf_spatial.html">rf_spatial()</a></code>, <code><a href="../reference/rf_evaluate.html">rf_evaluate()</a></code>, <code><a href="../reference/rf_tuning.html">rf_tuning()</a></code>, <code><a href="../reference/rf_repeat.html">rf_repeat()</a></code>, <code><a href="../reference/rf_compare.html">rf_compare()</a></code>, <code><a href="../reference/rf_importance.html">rf_importance()</a></code>, <code><a href="../reference/the_feature_engineer.html">the_feature_engineer()</a></code>, <code><a href="../reference/select_spatial_predictors_sequential.html">select_spatial_predictors_sequential()</a></code>, <code><a href="../reference/select_spatial_predictors_recursive.html">select_spatial_predictors_recursive()</a></code>) to use the new helper, improving consistency and reducing code duplication.</p></li>
<li><p>Removed <code>if(interactive()){}</code> wrappers from function examples to ensure examples run during R CMD check.</p></li>
<li><p>Function <code><a href="../reference/rf_spatial.html">rf_spatial()</a></code> now fits a spatial model even when that’s not necessary.</p></li>
<li><p>Simplified <code><a href="../reference/auto_cor.html">auto_cor()</a></code> and <code><a href="../reference/auto_vif.html">auto_vif()</a></code> with unified sequential evaluation algorithm that better preserves user preference order.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.4" id="version-114-19082022">Version 1.1.4 (19/08/2022)<a class="anchor" aria-label="anchor" href="#version-114-19082022"></a></h2><p class="text-muted">CRAN release: 2022-08-19</p>
<p>Re-submission, fixes CRAN checks arising from invalid links.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.3" id="version-113-2292021">Version 1.1.3 (22/9/2021)<a class="anchor" aria-label="anchor" href="#version-113-2292021"></a></h2><p class="text-muted">CRAN release: 2021-09-23</p>
<p>Added the function <code><a href="../reference/rf_importance.html">rf_importance()</a></code>. It fits models with and without each predictor, compares them via spatial cross validation with <code><a href="../reference/rf_evaluate.html">rf_evaluate()</a></code>, and returns the increase/decrease in performance when a given variable is included in the model.</p>
<p>The default random seed for all functions have changed from <code>NULL</code> to <code>1</code> to facilitate reproducibility.</p>
<p>The function <code><a href="../reference/rf_evaluate.html">rf_evaluate()</a></code> has a new argument named <code>grow.testing.folds</code>. When set to <code>TRUE</code>, it uses <code>1 - training.fraction</code> instead of <code>training.fraction</code> to grow the spatial folds, and then flips the names of the training and testing folds. As a result, the testing folds are generally surrounded by the training folds (just the opposite of the default behavior of the function), which might be beneficial for particular spatial structures of the training data. Thanks to <strong>Aleksandra Kulawska</strong> for the suggestion!</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.2" id="version-112-172021">Version 1.1.2 (1/7/2021)<a class="anchor" aria-label="anchor" href="#version-112-172021"></a></h2>
<p>Overhaul of the methods used for parallelization. The functions <code><a href="../reference/rf_spatial.html">rf_spatial()</a></code>, <code><a href="../reference/rf_repeat.html">rf_repeat()</a></code>, <code><a href="../reference/rf_evaluate.html">rf_evaluate()</a></code>, <code><a href="../reference/rf_tuning.html">rf_tuning()</a></code>, <code><a href="../reference/rf_compare.html">rf_compare()</a></code>, and <code>rf_interactions()</code> can now accept a cluster definition generated with <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">parallel::makeCluster()</a></code> via the <code>cluster</code> argument. Also, models resulting from these functions and <code><a href="../reference/rf.html">rf()</a></code> carry the cluster definition with themselves in the slot <code>model$cluster</code>, so the cluster definition can be passed from function to function using a pipe, as shown below:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://blasbenito.github.io/spatialRF/">spatialRF</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#loading the example data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">plant_richness_df</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"distance_matrix"</span><span class="op">)</span></span>
<span><span class="va">xy</span> <span class="op">&lt;-</span> <span class="va">plant_richness_df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">dependent.variable.name</span> <span class="op">&lt;-</span> <span class="st">"richness_species_vascular"</span></span>
<span><span class="va">predictor.variable.names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">plant_richness_df</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">21</span><span class="op">]</span></span>
<span></span>
<span></span>
<span><span class="co">#creating cluster</span></span>
<span><span class="va">my.cluster</span> <span class="op">&lt;-</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">makeCluster</a></span><span class="op">(</span></span>
<span>  <span class="fl">4</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"PSOCK"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#registering cluster (rf functions register it anyway)</span></span>
<span><span class="fu">doParallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/doParallel/man/registerDoParallel.html" class="external-link">registerDoParallel</a></span><span class="op">(</span>cl <span class="op">=</span> <span class="va">cluster</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">#fitting model</span></span>
<span>  <span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rf.html">rf</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">plant_richness_df</span>,</span>
<span>    dependent.variable.name <span class="op">=</span> <span class="va">dependent.variable.name</span>,</span>
<span>    predictor.variable.names <span class="op">=</span> <span class="va">predictor.variable.names</span>,</span>
<span>    distance.matrix <span class="op">=</span> <span class="va">distance_matrix</span>,</span>
<span>    xy <span class="op">=</span> <span class="va">xy</span>,</span>
<span>    cluster <span class="op">=</span> <span class="va">my.cluster</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rf_spatial.html">rf_spatial</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rf_tuning.html">rf_tuning</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rf_evaluate.html">rf_evaluate</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rf_repeat.html">rf_repeat</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#stopping cluster</span></span>
<span><span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">stopCluster</a></span><span class="op">(</span>cl <span class="op">=</span> <span class="va">my.cluster</span><span class="op">)</span></span></code></pre>
<p>The system works as follows: If <code>cluster</code> is not <code>NULL</code> and <code>model</code> is provided, the function looks into the model. If there is a cluster definition there, it is used to parallelize computations, but the cluster is not stopped within the function. If there is not a cluster in <code>model</code>, then the function falls back to the argument <code>n.cores</code> to generate a cluster that is stopped when the function ends its operations.</p>
<p>These changes should improve performance when working with several functions in the same script, becuase these functions do not have to waste time in generating their own clusters.</p>
<p>The function <code>rf_interactions()</code> is now named <code><a href="../reference/the_feature_engineer.html">the_feature_engineer()</a></code>.</p>
<p>The function <code>cluster_definition()</code> is now named <code><a href="../reference/beowulf_cluster.html">beowulf_cluster()</a></code>, and returns a cluster instead of a cluster definition to be used as input for <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">parallel::makeCluster()</a></code>.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.1" id="version-111-1152021">Version 1.1.1 (11/5/2021)<a class="anchor" aria-label="anchor" href="#version-111-1152021"></a></h2>
<p>rf_repeat() now generates a proper “importance” slot for models fitted with rf_spatial(), and preserves the “evaluation” and “tuning” slots if they exist.</p>
<p>Simplified rf_spatial() by removing options to generate an rf_repeat() model on the fly. rf_repeat() should only be used now at the end of a workflow, as described in the documentation.</p>
<p>Fixed issue with the area of the violin plots generated by plot_importance().</p>
<p>Improved the function rf_interactions() with a new type of interaction (first factor of a PCA between two predictors), added criteria to reduce multicollinearity among interactions, and between interactions and predictors, and now the function returns data helpful to fit models right away.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="version-110-652021">Version 1.1.0 (6/5/2021)<a class="anchor" aria-label="anchor" href="#version-110-652021"></a></h2>
<p>Added new residuals diagnostics with the functions residuals_diagnostics() and plot_residuals_diagnostics(). This changed the name of the slot “spatial.autocorrelation.residuals” to “residuals”, that now stores all the information relative to the residuals.</p>
<p>All plotting functions now allow to change the color of their key components.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.9" id="version-109-2042021">Version 1.0.9 (20/4/2021)<a class="anchor" aria-label="anchor" href="#version-109-2042021"></a></h2>
<p>Changed the names of function arguments from ‘x’ to ‘model’ or ‘distance.matrix’ for consistency. This might break code written previously, but I hope argument names are more self-explanatory now.</p>
<p>The function rf_spatial() now fits a non-spatial model first, and only generates spatial predictors for these distance.thresholds that show positive spatial autocorrelation.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.8" id="version-108-1642021">Version 1.0.8 (16/4/2021)<a class="anchor" aria-label="anchor" href="#version-108-1642021"></a></h2>
<p>Added a new function named filter_spatial_predictors(), that removes redundant spatial predictors within rf_spatial(). It shouldn’t lead to changes in the spatial models fitted with previous versions, but it will make them more parsimonious.</p>
<p>Changed the style of the package’s boxplots.</p>
<p>When using rf_repeat(), the median of the variable importance scores, performance scores, and Moran’s I is reported, instead of the mean.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.7" id="version-107-932021">Version 1.0.7 (9/3/2021)<a class="anchor" aria-label="anchor" href="#version-107-932021"></a></h2>
<p>Added the functions plot_training_data() and plot_moran_training_data() to help explore the training data prior to modeling.</p>
<p>Also fixed an issue where response variables could be identified as binary by mistake.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.6" id="version-106-932021">Version 1.0.6 (9/3/2021)<a class="anchor" aria-label="anchor" href="#version-106-932021"></a></h2>
<p>A bug regarding the predictions generated by <code><a href="../reference/rf.html">rf()</a></code> that affected every other function fitting models has been fixed. Previously, the model predictions came from the “predictions” slot produced by <code>ranger()</code>. Such predictions are produced from the out-of-bag data during model training, and are different and lead to lower R squared values than those produced with predict(). Now the predictions yielded by rf() are generated with predict(), and therefore you might notice that now models fitted with spatialRF functions perform better than before, because they do.</p>
<p>The function <code><a href="../reference/print_evaluation.html">print_evaluation()</a></code> does not use huxtable any longer to print the evaluation results, and only shows the results of the testing model.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.5" id="version-105-632021">Version 1.0.5 (6/3/2021)<a class="anchor" aria-label="anchor" href="#version-105-632021"></a></h2>
<p>Added support for binary data (0 and 1). The function <code><a href="../reference/rf.html">rf()</a></code> now tests if the data is binary, and if so, it populates the <code>case.weights</code> argument of <code>ranger</code> with the new function <code><a href="../reference/case_weights.html">case_weights()</a></code> to minimize the side effects of unbalanced data.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.4" id="version-104-232021">Version 1.0.4 (2/3/2021)<a class="anchor" aria-label="anchor" href="#version-104-232021"></a></h2>
<p>Fixed an issue where rf() applied the wrong is.numeric check to the response variable and the predictors that caused issues with tibbles.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.3" id="version-103-2522021">Version 1.0.3 (25/2/2021)<a class="anchor" aria-label="anchor" href="#version-103-2522021"></a></h2>
<p>Removed the function scale_robust() from rf(), and replaced it with scale(). It was giving more troubles than benefits.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.2" id="version-102-2422021">Version 1.0.2 (24/2/2021)<a class="anchor" aria-label="anchor" href="#version-102-2422021"></a></h2>
<p>Simplified rf_spatial().</p>
<p>Modified rf_tuning() to better tune models fitted with rf_spatial().</p>
<p>Minor fixes in several other functions.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="version-101-2222021">Version 1.0.1 (22/2/2021)<a class="anchor" aria-label="anchor" href="#version-101-2222021"></a></h2>
<p>All ‘sf’ dependencies removed from the package.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="version-100-is-ready">Version 1.0.0 is ready!<a class="anchor" aria-label="anchor" href="#version-100-is-ready"></a></h2>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://blasbenito.com" class="external-link">Blas M. Benito</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

