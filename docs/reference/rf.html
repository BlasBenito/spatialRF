<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Random forest models with Moran's I test of the residuals — rf • spatialRF</title><script src="../deps/jquery-3.6.1/jquery-3.6.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Random forest models with Moran's I test of the residuals — rf"><meta name="description" content="Fits a random forest model using ranger and extends it with spatial diagnostics: residual autocorrelation (Moran's I) at multiple distance thresholds, performance metrics (RMSE, NRMSE via root_mean_squared_error()), and variable importance scores computed on scaled data (via scale)."><meta property="og:description" content="Fits a random forest model using ranger and extends it with spatial diagnostics: residual autocorrelation (Moran's I) at multiple distance thresholds, performance metrics (RMSE, NRMSE via root_mean_squared_error()), and variable importance scores computed on scaled data (via scale)."><link rel="stylesheet" href="extra.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">spatialRF</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/non_spatial_models.html">Non-Spatial Random Forest Models</a></li>
    <li><a class="dropdown-item" href="../articles/spatial_models.html">Spatial Random Forest Models</a></li>
    <li><a class="dropdown-item" href="../articles/download_history.html">Download history</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Development</h6></li>
    <li><a class="dropdown-item" href="../articles/development_roadmap.html">Development Roadmap</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BlasBenito/spatialRF/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Random forest models with Moran's I test of the residuals</h1>
      <small class="dont-index">Source: <a href="https://github.com/BlasBenito/spatialRF/blob/HEAD/R/rf.R" class="external-link"><code>R/rf.R</code></a></small>
      <div class="d-none name"><code>rf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Fits a random forest model using <a href="http://imbs-hl.github.io/ranger/reference/ranger.html" class="external-link">ranger</a> and extends it with spatial diagnostics: residual autocorrelation (Moran's I) at multiple distance thresholds, performance metrics (RMSE, NRMSE via <code><a href="root_mean_squared_error.html">root_mean_squared_error()</a></code>), and variable importance scores computed on scaled data (via <a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rf</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dependent.variable.name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  predictor.variable.names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  distance.matrix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  distance.thresholds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xy <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ranger.arguments <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scaled.importance <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n.cores <span class="op">=</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>,</span>
<span>  cluster <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Data frame with a response variable and a set of predictors. Default: <code>NULL</code></p></dd>


<dt id="arg-dependent-variable-name">dependent.variable.name<a class="anchor" aria-label="anchor" href="#arg-dependent-variable-name"></a></dt>
<dd><p>Character string with the name of the response variable. Must be a column name in <code>data</code>. For binary response variables (0/1), case weights are automatically computed using <code><a href="case_weights.html">case_weights()</a></code> to balance classes. Default: <code>NULL</code></p></dd>


<dt id="arg-predictor-variable-names">predictor.variable.names<a class="anchor" aria-label="anchor" href="#arg-predictor-variable-names"></a></dt>
<dd><p>Character vector with predictor variable names. All names must be columns in <code>data</code>. Alternatively, accepts the output of <code><a href="auto_cor.html">auto_cor()</a></code> or <code><a href="auto_vif.html">auto_vif()</a></code> for automated variable selection. Default: <code>NULL</code></p></dd>


<dt id="arg-distance-matrix">distance.matrix<a class="anchor" aria-label="anchor" href="#arg-distance-matrix"></a></dt>
<dd><p>Square matrix with pairwise distances between observations in <code>data</code>. Must have the same number of rows as <code>data</code>. If <code>NULL</code>, spatial autocorrelation of residuals is not computed. Default: <code>NULL</code></p></dd>


<dt id="arg-distance-thresholds">distance.thresholds<a class="anchor" aria-label="anchor" href="#arg-distance-thresholds"></a></dt>
<dd><p>Numeric vector of distance thresholds for spatial autocorrelation analysis. For each threshold, distances below that value are set to zero when computing Moran's I. If <code>NULL</code>, defaults to <code>seq(0, max(distance.matrix), length.out = 4)</code>. Default: <code>NULL</code></p></dd>


<dt id="arg-xy">xy<a class="anchor" aria-label="anchor" href="#arg-xy"></a></dt>
<dd><p>Data frame or matrix with two columns containing coordinates, named "x" and "y". Not used by this function but stored in the model for use by <code><a href="rf_evaluate.html">rf_evaluate()</a></code> and <code><a href="rf_tuning.html">rf_tuning()</a></code>. Default: <code>NULL</code></p></dd>


<dt id="arg-ranger-arguments">ranger.arguments<a class="anchor" aria-label="anchor" href="#arg-ranger-arguments"></a></dt>
<dd><p>Named list with <a href="http://imbs-hl.github.io/ranger/reference/ranger.html" class="external-link">ranger</a> arguments. Arguments for this function can also be passed here. The default importance method is 'permutation' instead of ranger's default 'none'. The <code>x</code>, <code>y</code>, and <code>formula</code> arguments are not supported. See <a href="http://imbs-hl.github.io/ranger/reference/ranger.html" class="external-link">ranger</a> help for available arguments. Default: <code>NULL</code></p></dd>


<dt id="arg-scaled-importance">scaled.importance<a class="anchor" aria-label="anchor" href="#arg-scaled-importance"></a></dt>
<dd><p>If <code>TRUE</code>, variable importance is computed on scaled data using <a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a>, making importance scores comparable across models with different predictor units. Default: <code>FALSE</code></p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Random seed for reproducibility. Default: <code>1</code></p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>If <code>TRUE</code>, display messages and plots during execution. Default: <code>TRUE</code></p></dd>


<dt id="arg-n-cores">n.cores<a class="anchor" aria-label="anchor" href="#arg-n-cores"></a></dt>
<dd><p>Number of cores for parallel execution. Default: <code>parallel::detectCores() - 1</code></p></dd>


<dt id="arg-cluster">cluster<a class="anchor" aria-label="anchor" href="#arg-cluster"></a></dt>
<dd><p>Cluster object from <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">parallel::makeCluster()</a></code>. Not used by this function but stored in the model for use in downstream functions. Default: <code>NULL</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ranger model object with additional slots:</p><ul><li><p><code>ranger.arguments</code>: Arguments used to fit the model.</p></li>
<li><p><code>importance</code>: List with global importance data frame (predictors ranked by importance), importance plot, and local importance scores (per-observation difference in accuracy between permuted and non-permuted predictors, based on out-of-bag data).</p></li>
<li><p><code>performance</code>: Model performance metrics including R-squared (out-of-bag and standard), pseudo R-squared, RMSE, and NRMSE.</p></li>
<li><p><code>residuals</code>: Model residuals with normality diagnostics (<code><a href="residuals_diagnostics.html">residuals_diagnostics()</a></code>) and spatial autocorrelation (<code><a href="moran_multithreshold.html">moran_multithreshold()</a></code>).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>See <a href="http://imbs-hl.github.io/ranger/reference/ranger.html" class="external-link">ranger</a> documentation for additional details. The <code>formula</code> interface is supported via <code>ranger.arguments</code>, but variable interactions are not permitted. For feature engineering including interactions, see <code><a href="the_feature_engineer.html">the_feature_engineer()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other main_models:
<code><a href="rf_spatial.html">rf_spatial()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">plants_df</span>,</span></span>
<span class="r-in"><span>  <span class="va">plants_response</span>,</span></span>
<span class="r-in"><span>  <span class="va">plants_predictors</span>,</span></span>
<span class="r-in"><span>  <span class="va">plants_distance</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu">rf</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">plants_df</span>,</span></span>
<span class="r-in"><span>  dependent.variable.name <span class="op">=</span> <span class="va">plants_response</span>,</span></span>
<span class="r-in"><span>  predictor.variable.names <span class="op">=</span> <span class="va">plants_predictors</span>,</span></span>
<span class="r-in"><span>  distance.matrix <span class="op">=</span> <span class="va">plants_distance</span>,</span></span>
<span class="r-in"><span>  distance.thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1000</span>, <span class="fl">2000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  ranger.arguments <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    num.trees <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>    min.node.size <span class="op">=</span> <span class="fl">20</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  n.cores <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rf"     "ranger"</span>
<span class="r-in"><span><span class="co">#variable importance</span></span></span>
<span class="r-in"><span><span class="va">m</span><span class="op">$</span><span class="va">importance</span><span class="op">$</span><span class="va">per.variable</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                           variable importance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             climate_bio1_average   1862.351</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                 human_population   1602.213</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          human_footprint_average   1348.596</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4              climate_hypervolume   1340.019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                    bias_area_km2   1165.371</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         human_population_density   1040.106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                  neighbors_count    826.140</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8          bias_species_per_record    824.618</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                   neighbors_area    694.325</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   climate_aridity_index_average    673.057</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11    topography_elevation_average    650.577</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12          fragmentation_cohesion    507.302</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13    climate_velocity_lgm_average    459.043</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14   neighbors_percent_shared_edge    289.154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 landcover_herbs_percent_average    277.146</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16          fragmentation_division    216.471</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17           climate_bio15_minimum     83.932</span>
<span class="r-in"><span><span class="va">m</span><span class="op">$</span><span class="va">importance</span><span class="op">$</span><span class="va">per.variable.plot</span></span></span>
<span class="r-plt img"><img src="rf-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#model performance</span></span></span>
<span class="r-in"><span><span class="va">m</span><span class="op">$</span><span class="va">performance</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $r.squared.oob</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5317319</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $r.squared</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8737717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pseudo.r.squared</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.9347576</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rmse.oob</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2306.124</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rmse</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1431.987</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nrmse</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4133911</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $auc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#autocorrelation of residuals</span></span></span>
<span class="r-in"><span><span class="va">m</span><span class="op">$</span><span class="va">residuals</span><span class="op">$</span><span class="va">autocorrelation</span><span class="op">$</span><span class="va">per.distance</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   distance.threshold    moran.i moran.i.null      p.value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                100 0.13056941 -0.004424779 1.348179e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2               1000 0.06011484 -0.004424779 2.425928e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3               2000 0.01931070 -0.004424779 1.781684e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Positive spatial correlation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Positive spatial correlation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Positive spatial correlation</span>
<span class="r-in"><span><span class="va">m</span><span class="op">$</span><span class="va">residuals</span><span class="op">$</span><span class="va">autocorrelation</span><span class="op">$</span><span class="va">plot</span></span></span>
<span class="r-plt img"><img src="rf-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#model predictions</span></span></span>
<span class="r-in"><span><span class="va">m</span><span class="op">$</span><span class="va">predictions</span><span class="op">$</span><span class="va">values</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]  5291.4899  5578.2987  1589.6221  7102.8035 10067.5064  3055.0196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [7]  4954.8124  5759.2277  2948.4820  4335.4926  3102.5294  2873.0971</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [13]   802.9309  5814.4622  7004.7033  6894.4869  3719.2509  4470.5535</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [19]  6649.0718  3324.5036  5768.4359  5656.5501 10388.7945  2748.6759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [25]   682.9654  6353.5133  2717.0396  2356.0581  1417.0340  1602.4763</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31]  3935.2395  6611.4979  4166.2661  2917.4196  8102.2748  7190.4895</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [37]  2721.3488  2831.5914   884.4582  1228.9204  3061.8315  3246.7019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [43]  3066.1162  4477.7483  3839.9562  4033.3966  2497.9233  1837.6491</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [49]  1983.3319  3717.5131  5813.2443  3141.5729  1419.2481  3085.4385</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [55]   776.2131  9853.9472  4719.6057  3017.3389  2208.1689   975.1962</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61]  2713.6945  2841.2230  9292.8148  5349.9251  3004.0502  3597.7268</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [67]  9496.7950  4233.8299  1469.4442  3787.3333  4192.5505  1146.0211</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [73]  7692.6330  5274.9740  6076.2094  1468.0671  2362.9449  1788.2738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [79]  2044.7630  3817.0928  2140.2234  1369.7570  3360.5352  3584.7737</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [85]  3759.0037   870.7700  2877.5964  2794.6387  2908.1380  2389.2811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91]  5849.2702  1532.3995  1952.5626  8642.1687  4077.2436  4276.5161</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [97]  7539.0082  6939.6704  9257.4595  3132.0103  2698.9396  5404.9854</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [103]  1721.5442  2742.1876  3236.3743  2903.9876  6739.2454  5173.7660</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [109]  6587.8270  1558.1043  2445.5070  3438.7889  3195.8107  3218.5243</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [115]  6712.7303  1053.8067  2439.9376  2227.9587  3656.7509   926.8010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [121]  2927.1745  9464.9285  1179.5736  3423.5251  3999.9025  5645.2067</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [127]  3915.2952  4057.6235  2689.2356  3785.8296  4984.9734  2784.1061</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [133]  1043.4002  5023.7544  6176.3488  7278.0910  1052.5757  2577.6017</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [139]  3403.8022  1282.3107  6526.7393  3005.8826  1206.0567  6148.5235</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [145]  4843.7370  2113.5744  3573.0392  5528.7805  1521.9094   957.6785</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [151]  3205.5720  2486.5204  6020.9469  2415.1661  6540.9665  6351.5947</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [157]  7411.1992  3438.1847  3487.1045  7703.7450  3910.5639  2336.9264</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [163]  4853.1863  7826.6064 12477.2066  2677.8060  5003.5714  2184.9405</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [169]  2162.6979  2455.8144  6643.7121  1011.8905  1677.4915  4935.4205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [175]  3339.3278  3808.0361  3122.7009 12272.9463  2791.2426   954.0983</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [181]  5271.1207  6339.4611   695.3549  3921.9516  6532.4750  3177.0817</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [187]  5130.8285  8334.9741  4767.9979  4567.5731  4603.0198  8692.9414</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [193]  5332.1238  6047.4604  9424.3609   833.4410   796.6555 10944.7190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [199]  2488.9519  1804.4019  3270.6800  3642.4388  6057.9466  7303.2465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [205]  4181.6663  4271.4106  6505.1590  2853.0312  2649.4218  1759.4082</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [211]  2922.7903  2891.5668  5442.8218  7670.3069  5776.2621  7013.3065</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [217]  1767.0014  5127.4461  2833.0677  3159.8775  3361.5099  3585.5471</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [223]  6777.3612  4934.7655  3729.7678  4813.3794  2553.2253</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#predictions for new data (using stats::predict)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  object <span class="op">=</span> <span class="va">m</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">plants_df</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"response"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">$</span><span class="va">predictions</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#alternative: pass arguments via ranger.arguments list</span></span></span>
<span class="r-in"><span><span class="va">args</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">plants_df</span>,</span></span>
<span class="r-in"><span>  dependent.variable.name <span class="op">=</span> <span class="va">plants_response</span>,</span></span>
<span class="r-in"><span>  predictor.variable.names <span class="op">=</span> <span class="va">plants_predictors</span>,</span></span>
<span class="r-in"><span>  distance.matrix <span class="op">=</span> <span class="va">plants_distance</span>,</span></span>
<span class="r-in"><span>  distance.thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1000</span>, <span class="fl">2000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  num.trees <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  min.node.size <span class="op">=</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>  num.threads <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu">rf</span><span class="op">(</span></span></span>
<span class="r-in"><span>  ranger.arguments <span class="op">=</span> <span class="va">args</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://blasbenito.com" class="external-link">Blas M. Benito</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

